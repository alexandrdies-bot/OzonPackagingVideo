# PackagingVideoTest

Тестовая программа видеофиксации упаковки с использованием веб-камеры и библиотеки AForge.

## Назначение

- Подключение к веб-камере.
- Имитация сканирования заказа (`СКАНИРОВАТЬ ЗАКАЗ`) — начало "записи" и сохранение скриншота `START_*.jpg`.
- Имитация сканирования этикетки (`СКАНИРОВАТЬ ЭТИКЕТКУ`) — конец "записи" и сохранение скриншота `END_*.jpg`.
- Сохранение файла `!_INFO.txt` с информацией о сессии упаковки.

Все данные сохраняются в папку:
`TestRecordings/{номер_заказа}` рядом с папкой программы.

## Технологии

- C#
- Windows Forms (.NET Framework)
- AForge
- AForge.Video.DirectShow

## Контекст

Для подробного контекста разработки и истории смотри файл `context-chat.md`.
## Текущее состояние интерфейса

- Окно приложения развёрнуто на весь экран при запуске.
- Слева находится большая область предпросмотра камеры (черный фон, видео растягивается с сохранением пропорций).
- Справа расположена панель управления:
  - выбор камеры;
  - кнопка подключения камеры;
  - кнопка "СКАНИРОВАТЬ ЗАКАЗ";
  - кнопка "СКАНИРОВАТЬ ЭТИКЕТКУ";
  - текстовый статус;
  - таймер записи.

Такая раскладка сделана для удобства оператора: основное внимание — на видео с камерой, служебная информация и кнопки вынесены на правую часть экрана.

## Логика работы со сканером штрих-кодов

- Сканер работает как клавиатура и вводит номер заказа в поле "Номер заказа (сканер)".
- При нажатии Enter (или автоматическом Enter от сканера) срабатывает логика:
  - если записи нет — считается, что начинается фиксация упаковки для этого заказа:
    - статус меняется на "запись начата" с номером заказа;
    - запускается таймер.
  - если уже идёт запись по этому же номеру заказа — запись считается завершённой:
    - статус меняется на "запись остановлена";
    - таймер останавливается и скрывается.
- Если во время записи просканировать другой штрих-код — выдаётся предупреждение, что сначала нужно завершить текущую запись.
- Следующий шаг: добавить реальную запись видео в файл с именем, основанным на номере заказа.