# Контекст проекта и диалоги с ИИ

Автор GitHub: `alexandrdies-bot`.

## История

- Код программы был сгенерирован другой нейросетью.
- Возникли проблемы с Git/TLS/сертификатами, после чего:
  - Переустановлена Windows.
  - Установлена Visual Studio.
  - Настроен Git и вход в GitHub.
- Этот проект создан уже на "чистой" системе в Visual Studio.

## Назначение проекта

Программа:
- Подключается к веб-камере через AForge.Video.DirectShow.
- Кнопка **"ПОДКЛЮЧИТЬ КАМЕРУ"** — выбор и запуск камеры.
- Кнопка **"СКАНИРОВАТЬ ЗАКАЗ"** — начало "записи":
  - генерируется номер заказа `TEST_ORDER_XXX`;
  - сохраняется скриншот `START_*.jpg`.
- Кнопка **"СКАНИРОВАТЬ ЭТИКЕТКУ"** — окончание "записи":
  - сохраняется скриншот `END_*.jpg`;
  - создаётся файл `!_INFO.txt` с деталями (номер, время начала/конца, длительность).

Все файлы сохраняются в:
`TestRecordings/{номер_заказа}` относительно `Application.StartupPath`.

## Текущий статус

- WinForms-проект создан в Visual Studio.
- Код из другой нейросети вставлен в `Form1`.
- Библиотеки AForge и AForge.Video.DirectShow установлены через NuGet.
- Приложение успешно запускается и отображает видео с камеры.

## Для будущих ИИ и разработчиков

Если ты продолжаешь работу над проектом:

1. Ознакомься с:
   - этим файлом `context-chat.md`;
   - `README.md`;
   - историей коммитов в Git.
2. Не переписывай всё с нуля — развивай текущую реализацию.
3. При изменении логики записи упаковки:
   - сохраняй совместимый формат папок и файлов (`TestRecordings/{номер_заказа}`, `START_*.jpg`, `END_*.jpg`, `!_INFO.txt`).
4. В случае потери контекста чата:
   - используй этот файл и коммиты как основное описание истории проекта.
	- ---

## Журнал изменений (коротко)

### 2025-12-03

- Создан репозиторий `OzonPackagingVideo` на GitHub.
- Настроен проект Windows Forms (.NET Framework) в Visual Studio.
- Подключены библиотеки AForge и AForge.Video.DirectShow через NuGet.
- Перенесён код программы видеофиксации упаковки (камера, START/END скриншоты, `!_INFO.txt`).

### 2025-12-03 — изменение интерфейса

- Форма при запуске разворачивается на весь экран (`WindowState = Maximized`).
- Добавлена правая панель (`rightPanel`), закреплённая справа (`Dock = Right`).
- Элементы управления (выбор камеры, кнопки "Подключить камеру", "СКАНИРОВАТЬ ЗАКАЗ", "СКАНИРОВАТЬ ЭТИКЕТКУ", статус, таймер) перенесены на правую панель.
- Область видео (`videoPreview`) растягивается на всё оставшееся пространство слева (`Dock = Fill`, `SizeMode = Zoom`), чтобы картинка с камеры занимала максимум экрана.

### 2025-12-04 — управление записью по сканеру штрих-кода

- Убраны кнопки "СКАНИРОВАТЬ ЗАКАЗ" и "СКАНИРОВАТЬ ЭТИКЕТКУ" из интерфейса.
- Добавлено поле "Номер заказа (сканер)".
- Настроена логика запуска/остановки фиксации по сканеру штрих-кода:
  - первое сканирование штрих-кода — запуск записи (статус и таймер меняются);
  - повторное сканирование того же штрих-кода — остановка записи.
- Пока запись видео физически не ведётся, меняется только статус и таймер — подготовка к добавлению реальной записи видео.