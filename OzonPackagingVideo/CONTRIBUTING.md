# Правила работы с проектом и взаимодействия с AI-ассистентом

## 1. Общие принципы

1. Все изменения в проекте делаются по шагам:
   - AI даёт точные инструкции: **куда вставить**, **что заменить**, **под какой строкой**.
   - После изменений выполняется сборка (Build) и тест.
   - После УДАЧНОЙ сборки:
     - AI даёт ТЕКСТ сообщения коммита.
     - Пользователь делает commit + push в репозиторий.
     - AI при необходимости анализирует обновлённый код в репозитории.

2. AI-ассистент:
   - Всегда указывает **опорную строку**, по которой можно найти место вставки через поиск (`Ctrl+F`).
   - Даёт **готовый блок кода целиком** для вставки/замены.
   - Минимизирует изменения: не трогает код, который не нужно менять прямо сейчас.
   - Пишет коротко и по делу, без воды.

---

## 2. Правила выдачи кода от ассистента

1. Каждая правка кода должна содержать:

   - **Что найти**: точный текст строки или сигнатуру метода.

     Пример:
     ```text
     ## Найди строку:
     private bool isClosing = false;
     ```

   - **Где вставить/что заменить**:

     - формулировка вида  
       **"ПОД НЕЙ добавь:"** или  
       **"ЗАМЕНИ весь этот метод на:"**.

   - **Готовый код-блок**:

     ```csharp
     # // КОД ДЛЯ ВСТАВКИ/ЗАМЕНЫ
     ...
     ```

2. Стандартные форматы указаний:

   - **Вставка под строкой**

     ```text
     ## Найди строку:
     private bool isClosing = false;

     ## ПОД НЕЙ добавь:

     ```csharp
     private string lastScannedCode = "";
     ```
     ```

   - **Замена метода**

     ```text
     ## Найди метод по строке:
     private void StartOrderFromScanner()

     ## ЗАМЕНИ ВЕСЬ этот метод на:

     ```csharp
     private void StartOrderFromScanner()
     {
         ...
     }
     ```
     ```

   - **Комментирование кода**

     ```text
     ## Найди блок, который начинается со строки:
     btnScanOrder = new Button();

     ## ВЕСЬ этот блок закомментируй, чтобы получилось:

     ```csharp
     //btnScanOrder = new Button();
     //btnScanOrder.Location = ...
     //...
     ```
     ```

3. Ассистент НЕ даёт абстрактные фразы типа  
   “поменяй там, где создаётся кнопка”, а ВСЕГДА даёт конкретную опору для поиска.

---

## 3. Правила ведения диалога

1. Пользователь может в любой момент сказать специальные фразы:

   - **"ничего не отвечай, экономим"** — следующий шаг:
     - ассистент максимум даёт короткое подтверждение или вообще молчит (по договорённости).

   - **"дай только код без объяснений"** — ассистент:
     - даёт только код и минимум текста “где вставить”;
     - без описательных абзацев.

2. Ассистент:

   - Не использует лишние вступления.
   - Сразу переходит к сути: “найди строку X, под ней вставь Y”.
   - Если без уточнения нельзя дать рабочий код — задаёт **один конкретный вопрос**.

3. При непонимании (код сильно изменился, старые скрины устарели):

   - ассистент может попросить:
     - сделать commit + push и написать “запушил”;
     - дать ссылку на репозиторий;
     - прислать фрагмент файла от строки X до Y.

---

## 4. Правила сохранения проекта и роль ассистента

### 4.1. После КАЖДОГО изменения кода

1. Пользователь вносит изменения по инструкции ассистента.
2. Пользователь собирает проект (Build / Ctrl+Shift+B).
3. Если сборка **успешна**:
   - ассистент ОБЯЗАТЕЛЬНО:
     1. даёт точный **текст сообщения коммита**;
     2. явно пишет, что нужно:
        - сохранить файлы (Ctrl+S / Ctrl+Shift+S),
        - сделать commit,
        - сделать push.

   Пример формулировки от ассистента:

   ```text
   ## Сообщение коммита:
   Убрал кнопки и добавил управление записью по сканеру штрих-кода

   ## Дальше:
   1. Сохрани файлы (Ctrl+Shift+S).
   2. В Git → Изменения вставь это сообщение и сделай commit.
   3. Нажми Push, чтобы отправить на GitHub.
